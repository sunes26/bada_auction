# 우선순위 카테고리 매핑 가이드

## ✅ 현재 상태

- **총 사용 중인 카테고리**: 48개
- **이미 자동 매핑됨**: 41개
- **수동 매핑 필요**: **7개만!**

## 🎯 수동 매핑이 필요한 7개 카테고리

다음 7개 카테고리만 수동으로 매핑하면 모든 현재 사용 중인 카테고리가 매핑됩니다!

### 매핑 작업 순서:

1. `category.xlsx` 파일을 Excel로 열기
2. 아래 각 카테고리에 대해:
   - `category.xlsx`에서 `카테고리명` 컬럼에서 유사한 카테고리 검색 (Ctrl+F)
   - 찾은 카테고리의 `카테고리코드` 복사
   - `backend/category_code_mapping.csv`를 열고 해당 `old_code` 행의 `new_code` 컬럼에 붙여넣기
3. 모두 완료 후 적용 스크립트 실행

---

### 1. 일반샴푸 (20040201)

**구 경로**: `생활/식품/애완/이미용 > 샴푸/린스/트리트먼트 > 샴푸/린스-일반 > 일반샴푸`

**검색 키워드**: "샴푸" 또는 "생활용품"

**매핑 방법**:
- `category.xlsx`에서 "샴푸"로 검색
- 생활용품 관련 카테고리 찾기
- 없으면 상위 카테고리 "생활용품" 또는 "생활/욕실" 사용

---

### 2. 원두커피 (36120700)

**구 경로**: `음료/과자/가공식품 > 음료류 > 커피/차/음료 > 원두커피`

**검색 키워드**: "커피" 또는 "원두"

**매핑 방법**:
- `category.xlsx`에서 "커피"로 검색
- "음료/과자/가공식품" 하위의 커피 카테고리 찾기
- 예상: `음료/과자/가공식품 > 커피/차` 등

---

### 3. 라면류 (36030201)

**구 경로**: `음료/과자/가공식품 > 면류/만두류/떡볶이 > 면류 > 라면류`

**검색 키워드**: "라면" 또는 "면류"

**매핑 방법**:
- `category.xlsx`에서 "라면"으로 검색
- "음료/과자/가공식품 > 라면/면류" 찾기
- 정확히 일치하는 카테고리가 있을 가능성 높음

---

### 4. 카레 (36190701)

**구 경로**: `음료/과자/가공식품 > 즉석/카레/덮밥 > 즉석카레/짜장 > 카레`

**검색 키워드**: "카레" 또는 "즉석식품"

**매핑 방법**:
- `category.xlsx`에서 "카레"로 검색
- "음료/과자/가공식품 > 즉석/카레" 등 찾기
- 없으면 "간편식" 또는 "즉석식품" 사용

---

### 5. 젓갈 (36240101)

**구 경로**: `음료/과자/가공식품 > 장류/젓갈/김 > 발효장/젓갈/고추장류 > 젓갈`

**검색 키워드**: "젓갈" 또는 "장류"

**매핑 방법**:
- `category.xlsx`에서 "젓갈"로 검색
- "음료/과자/가공식품 > 장류" 하위 찾기
- 없으면 상위 "장류" 카테고리 사용

---

### 6. 미역류 (36241001)

**구 경로**: `음료/과자/가공식품 > 장류/젓갈/김 > 김/미역/파래류 > 미역류`

**검색 키워드**: "미역" 또는 "김/미역"

**매핑 방법**:
- `category.xlsx`에서 "미역"으로 검색
- "음료/과자/가공식품 > 김/미역" 또는 "건어물" 찾기
- 없으면 상위 카테고리 사용

---

### 7. 맛소금 (33020500)

**구 경로**: `생활/식품/애완화 > 대용량 식품 > 조미료 > 맛소금`

**검색 키워드**: "조미료" 또는 "소금"

**매핑 방법**:
- `category.xlsx`에서 "조미료"로 검색
- "음료/과자/가공식품 > 조미료" 찾기
- "소금"으로도 검색 시도

---

## 📝 매핑 완료 후

### 1. 검증 (Dry Run)

```bash
cd backend
python apply_category_mapping.py
```

출력 확인:
- ✅ 매핑 가능: 48개 (모두 매핑됨!)
- ❌ 매핑 불가: 0개

### 2. 실제 적용

```bash
python apply_category_mapping.py --apply
```

### 3. 확인

- PlayAuto 상품 등록 테스트
- 카테고리 표시 정상 동작 확인
- README.md에 완료 기록

---

## 💡 팁

### Excel 검색 팁:
1. `category.xlsx` 열기
2. Ctrl+F로 검색창 열기
3. "전체 통합 문서에서 찾기" 옵션 선택
4. 결과에서 `카테고리명` 컬럼 확인

### 매핑 원칙:
- **정확한 일치**: 같은 이름이 있으면 그것 사용
- **가장 가까운 카테고리**: 없으면 가장 유사한 것 선택
- **상위 카테고리**: 정확한 것이 없으면 상위 카테고리 사용
- **기타 카테고리**: 정말 없으면 "기타" 사용

### 주의사항:
- 구 시스템이 더 상세하므로, 신 시스템에서는 상위 카테고리로 통합되었을 수 있음
- 완벽한 1:1 매핑이 불가능할 수 있으며, 이는 정상입니다
- PlayAuto가 인식할 수 있는 카테고리면 충분합니다

---

## ❓ 찾을 수 없는 경우

카테고리를 정말 찾을 수 없다면:

1. **상위 카테고리 사용**:
   - 예: "원두커피"가 없으면 "커피" 사용
   - 예: "일반샴푸"가 없으면 "샴푸" 또는 "생활용품" 사용

2. **유사 카테고리 사용**:
   - 예: "즉석카레"가 없으면 "즉석식품" 또는 "간편식" 사용

3. **기타 카테고리**:
   - 정말 없으면 해당 대분류의 "기타" 카테고리

4. **임시로 비워두기**:
   - 나중에 PlayAuto 웹사이트에서 직접 카테고리 선택 가능

---

**화이팅! 7개만 하면 됩니다!** 🎉
